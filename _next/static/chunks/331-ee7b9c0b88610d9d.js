(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{45545:function(){},37521:function(e,t,n){"use strict";n.r(t),n.d(t,{CompromisedProvider:function(){return b},CompromisedStore:function(){return k},useCompromisedContext:function(){return y},useCompromisedUIContext:function(){return g}});var o=n(17821),s=n(33198),r=n(74112),a=n(6011),i=n(18103),u=n(2545),c=n(6299),l=n(55636),d=n(55529),f=n(57103),p=n(31914);let m=(0,s.createContext)({}),y=()=>(0,s.useContext)(m),h=(0,s.createContext)(null),g=()=>(0,s.useContext)(h);function k(e){let{children:t}=e,[n,y]=(0,s.useState)(""),g=function(e){let t=(0,i.O)(),n=(0,s.useMemo)(()=>{if((0,a.uO)(e))return{publicKey:new c.PublicKey(e)}},[e]),{connection:o}=(0,u.R)(),r=(0,s.useCallback)(async(e,n,s)=>{e=await t.signTransaction(e),s&&await (0,p._T)(n.toBase58());let r=await (0,f.T7)(o,e);return r},[t,o]);return{...n||t,signAndSendTransaction:r}}(n),[k,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{b(!0)},[]);let v=(0,s.useMemo)(()=>k?(0,l.oD)():null,[k]);return(0,o.jsx)(m.Provider,{value:g,children:v?(0,o.jsxs)(h.Provider,{value:v,children:[(0,o.jsx)(l.Nq,{node:v,children:(0,o.jsxs)("fieldset",{className:"flex items-center gap-2",children:[(0,o.jsx)(r.T,{}),d.T&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{children:"OR"}),(0,o.jsx)("input",{value:n,onChange:e=>y(e.target.value),className:"border"})]})]})}),t]}):t})}function b(e){let{children:t}=e;return(0,o.jsx)(r.Q,{localStorageKey:"compromised",children:(0,o.jsx)(k,{children:t})})}},55529:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var o=n(76924);let s="true"===o.env.NEXT_PUBLIC_DEV},51967:function(e,t,n){"use strict";n.r(t),n.d(t,{FeePayerProvider:function(){return h},FeePayerStore:function(){return y},useFeePayerContext:function(){return f},useFeePayerUIContext:function(){return m}});var o=n(17821),s=n(33198),r=n(74112),a=n(6011),i=n(18103),u=n(6299),c=n(55636),l=n(55529);let d=(0,s.createContext)({}),f=()=>(0,s.useContext)(d),p=(0,s.createContext)(null),m=()=>(0,s.useContext)(p);function y(e){let{children:t}=e,[n,f]=(0,s.useState)(""),m=function(e){let t=(0,i.O)(),n=(0,s.useMemo)(()=>{if((0,a.uO)(e))return{publicKey:new u.PublicKey(e)}},[e]);return n||t}(n),[y,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h(!0)},[]);let g=(0,s.useMemo)(()=>y?(0,c.oD)():null,[y]);return(0,o.jsx)(d.Provider,{value:m,children:g?(0,o.jsxs)(p.Provider,{value:g,children:[(0,o.jsx)(c.Nq,{node:g,children:(0,o.jsxs)("fieldset",{className:"flex items-center gap-2",children:[(0,o.jsx)(r.T,{}),l.T&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{children:"OR"}),(0,o.jsx)("input",{value:n,onChange:e=>f(e.target.value),className:"border"})]})]})}),t]}):t})}function h(e){let{children:t}=e;return(0,o.jsx)(r.Q,{localStorageKey:"feePayer",children:(0,o.jsx)(y,{children:t})})}},77585:function(e,t,n){"use strict";n.d(t,{Q:function(){return u},p:function(){return c}});var o=n(17821),s=n(33198),r=n(92139),a=n(52590),i=n(45353);function u(e){let{type:t,value:n,label:s,className:u}=e,{tokens:c}=(0,r.useTokensContext)(),l=null!=n?n:"??",d="string"==typeof l?l:l.toBase58(),f=c[d],{getExplorerUrl:p}=(0,i.useSettings)();return(0,o.jsx)("a",{href:p(t,d),target:"_blank",rel:"noopener noreferrer",className:u||"link font-mono",children:s||f&&(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("img",{src:f.logoURI,alt:f.symbol,className:"w-5 h-5"}),(0,o.jsx)("span",{children:f.symbol})]})||(0,a.ellipsify)(d,"account"===t?4:8)})}function c(){let{explorer:e,setExplorer:t}=(0,i.useSettings)(),n=(0,s.useCallback)(e=>{t(e.target.value)},[]);return(0,o.jsxs)("div",{className:"overflow-x-auto flex flex-col gap-2",children:[(0,o.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,o.jsx)("h2",{className:"text-2xl font-bold",children:"Explorer"})}),(0,o.jsxs)("select",{value:e,onChange:n,className:"border p-2 rounded-md",children:[(0,o.jsx)("option",{value:"solana",children:"Solana"}),(0,o.jsx)("option",{value:"solscan",children:"Solscan"})]})]})}},45353:function(e,t,n){"use strict";n.r(t),n.d(t,{ClusterNetwork:function(){return s},SettingsProvider:function(){return w},defaultClusters:function(){return y},toWalletAdapterNetwork:function(){return p},useSettings:function(){return x}});var o,s,r=n(17821),a=n(20121),i=n(6299),u=n(49012),c=n(97854),l=n(88428),d=n(33198),f=n(55529);function p(e){switch(e){case s.Mainnet:return a.Q.Mainnet;case s.Testnet:return a.Q.Testnet;case s.Devnet:return a.Q.Devnet;default:return}}(o=s||(s={})).Mainnet="mainnet-beta",o.Testnet="testnet",o.Devnet="devnet",o.Custom="custom";let m={name:"mainnet",endpoint:"https://ardyce-3nrk6t-fast-mainnet.helius-rpc.com",network:s.Mainnet},y=[m,{name:"devnet",endpoint:(0,i.clusterApiUrl)("devnet"),network:s.Devnet},{name:"local",endpoint:"http://localhost:8899"},{name:"testnet",endpoint:(0,i.clusterApiUrl)("testnet"),network:s.Testnet}],h=(0,l.O4)("solana-explorer","solscan"),g=(0,l.O4)("solana-cluster",y[0]),k=(0,u.cn)(e=>{let t=e(g);return y.map(e=>({...e,active:e.name===t.name}))}),b=(0,u.cn)(e=>{let t=e(k);return t.find(e=>e.active)||t[0]}),v=(0,d.createContext)({});function w(e){let{children:t}=e,[n,o]=(0,c.KO)(h),s=(0,c.Dv)(b),a=(0,c.b9)(g);(0,d.useEffect)(()=>{f.T||a(m)},[]);let i={explorer:n,setExplorer:o,cluster:s,clusters:y.sort((e,t)=>e.name>t.name?1:-1),setCluster:e=>a(e),getExplorerUrl:(e,t)=>(function(e,t,n,o){switch(n){case"solana":return"https://explorer.solana.com/".concat({account:"address",tx:"tx",block:"block"}[e],"/").concat(t).concat(B(o));case"solscan":return"https://solscan.io/".concat({account:"account",tx:"tx",block:"block"}[e],"/").concat(t).concat(B(o))}})(e,t,n,s)};return(0,r.jsx)(v.Provider,{value:i,children:t})}function x(){return(0,d.useContext)(v)}function B(e){let t="";switch(e.network){case s.Devnet:t="devnet";break;case s.Mainnet:t="";break;case s.Testnet:t="testnet";break;default:t="custom&customUrl=".concat(encodeURIComponent(e.endpoint))}return t.length?"?cluster=".concat(t):""}},31914:function(e,t,n){"use strict";let o;n.d(t,{C2:function(){return v},DM:function(){return B},FF:function(){return k},IA:function(){return b},It:function(){return x},OJ:function(){return C},Ol:function(){return u},_T:function(){return j},b7:function(){return d},d6:function(){return h},gl:function(){return T},no:function(){return w},rq:function(){return i},w0:function(){return c},xH:function(){return A},zK:function(){return m},zU:function(){return l}});var s=n(6299),r=n(55529);let a=new s.PublicKey("DQA8ee4yLWJ2XEovY1fDJtt7xjoMowMgM7VD31CUorif"),i=new s.PublicKey("81RhGvYGL8ZMwwQW43FWohCFfUFeBYBcaHV23EXJkoGw"),u=new s.PublicKey("GPDvUHkbicKpxAM9KFi8SwBoFQbgtU9h1E4jq7yqsKEj"),c=.0025,l=[u.toBase58(),"4ondBeA94L1oUhQrAGcNBoTqVTuZZ5jUbYZgvycDhPjw","DKMm54prCJKMQokDnbPymp52wjoMBAK4Jbc1vE2Xd84U","RvytEBMmS143XAmq9Y5CkkLr7ZnzsBr1ogctVRVyqNo","4QvU24JWX5kV3gWAxAfq9nWZXbZkVK697oB8mkdJH8Pm","2i4TDBNmsEmnDUuquTYUz1N2Wu7BcLFnauTERAABioZL","86hGL46dxAQMRBU562NotV1ALrZyPJfwRjS6jQM9u89a"],d=["4DVrRmd7EbsdcnFD7Hgf6EUrUgxSCpUbccXDGgA7vF49","32KrKbu9QpSvAH8biXCYoUmfhWuAECDGaC8k58CUHR1o"],f=["96jc2DqsusPta3dR94zaCjgoDXSoxeQNBw4kBMCCdRjZ","9Gj245LNkft6LAFsWoo8eekuJ7FKD5SNHTYjeEUvqMSW","H6jwAE9KwhwQB6aY5mxKQLyt3AaNvgSXrBwUf2XRsW4z","G6bfDikmBmntCLcLdFTQhZ2zhqcuWygDpgou2Nq8YqX1","2diX1Sor7SBwQy683e78b2PrAQZxaKBYHwfVXH7D5f1v","2KGpvsGWPmdKUQVXMUFnMy6mdUwt4hK2oHQGUE8pV13y","G29P2CsigSE3jtAELZt3mxgFqVRNV2WeJc6SHfythYh5","4TfZamwMKxrPQdHJ5y5YbJsgAcZD3MepYz55NTDrvrVm","8r9KTdGzfvPFMBEH2rDoTjUQPk6QfWTJTsZrCbCXCV9","3Ua34gTp5Ad5DTTiGZXz6FKMxFhkh9X38VgZKH5Bsr6L","5o5bV3tnyGp5evecaNB4nB6FKReLQaNwfkAk4jSsurYL","2ZmuSJmVUtVFy5dQaQhvFCGuZMjLxaQreuLQU7r19EjK","74JztWrZzFpJmb6QpozHwAcYYgb7SFFRjn8ZyqXypgsR"],p={"3Eu82brEtywph5gRNwnWV6b71VvHUp4aQV8oH3kWGeN2":"FT2iSNeLzBWwNFBZ8yyDvUb3izr3FQa1wX9MLYaQEhUZ","2goAM8CtFov6yCNfHcf7S8TxWAC5qs4CPidTpaWeJjRP":"Cq1QtASwkqsY57pcNGqK2kLBYbNSDmXG1dz3HfmAvtbJ"},m={FT2iSNeLzBWwNFBZ8yyDvUb3izr3FQa1wX9MLYaQEhUZ:["9K5jpZdPEQhQzXtF3CBMxWr1YpAeooTASUt8kkt3a9DG"],Cq1QtASwkqsY57pcNGqK2kLBYbNSDmXG1dz3HfmAvtbJ:["GqhqscK9Ypmyoro3vrfg8uim9yo3itihzLvaJH5EVKmD"]},y=["4ond6yPfBsYkp6BmKxidjwv8oUT68XoG3wq4B2y7UiYw","5btmDT85iZ4YXmaWDVgBiSBazJTH4g71oD1PT33sWT6B","B6JMnqUyZeNoXmm6uYCpnEZXyZpZHuLVwh4ny3Zx5Y5M","9QrxPYG22tgXyT7TwpHZbGbBufbG5MzuprQvvqtk6oX","3NFcYEXkwdRJsbvdmzm6LpCFXi3QwK4xVQSkjwRK1phV","49rzfy3Vb9tPy1tv2MwworKBUVyu72piAhA8HJG7dhgZ","4hrju9rhwbbpnrzTJwFo6mGSz4dhdbn3rpbtG7vvXogU","HHKGrSe1Ksn4KhsPhbR3czKuYpujANgUURKZBp5Emn8W","9g631pBRtrq1qKECXqLb5pMnCc6C6M5FuwoVCtBhCLtS","8r9KTdGzfvPFMBEH2rDoTjUQPk6QfWTJTsZrCbCXCV9","3BKTCSVbXuAhJfHm85cDbXc2Dqe7fLBZnuzjhbd95Hzk","5x4hPZRfzm8upjQ4yJeAviaya6dm4GTtiPQhnbwKc2uf","H6C54yh3sykbsDpk73i5mKtdQve6vxD39kMLp5erVdbB","7HTLzCqghwTmEv7MWaYXWc96Tkx77QkseHVbf5uJjdvS","Es68BzKqhPB2aFcxAYVBLc8GDrya6LcSQUKPtRN9Vqjm","5uJPnUe9K3fsZY2VFkunwFChFifCMiqCfmGXybWM3cr2","C3UeshoakDpvz9MBRpiFeXdjviavD2VR5cayhKd2jn6","9aMvSscQd4AWisWnohrvvT9u2Z2VkddJjz7gugxB9Bs","9MF8BucySBspqnfCV6g3XcjESNBtLamuvFU6K1VaZeh7","Di9AdpKdYNE5a6zk4TiWpjXjZzjjvbMZSEBxvHq2Us1W","VoopKbdxdMB746MYmg2AQwFEVt2Jc3TNZshxuRZRDKL","9jiVcztQ5j1YwrVxxsnwDUYxEZNQykQmNNLUQgLz865Y"],h=new s.PublicKey("4ondBeA94L1oUhQrAGcNBoTqVTuZZ5jUbYZgvycDhPjw");function g(e){return l.some(t=>t===e)}function k(e){return y.some(t=>t===e)}function b(e,t){return g(e)||t}function v(e){return f.some(t=>t===e)}function w(e){return Object.keys(m).includes(e||"")}async function x(e,t){let n=await fetch("/api/wallets/approved?"+new URLSearchParams({compromised:e||"",safe:t||""})).then(e=>e.json());return n}function B(e,t){if(!t)return p[e||""]}async function j(e){let t=await fetch("/api/wallets/rescue/enable",{method:"POST",body:JSON.stringify({safe:e})}).then(e=>e.json());return t}async function C(e){let t=await fetch("/api/wallets/rescue/disable",{method:"POST",body:JSON.stringify({safe:e})}).then(e=>e.json());return t}function T(e,t,n){return r.T||g(t)||v(e)||n}async function A(e){if(!o){let t=await e.getAddressLookupTable(a);o=t.value}return o}},57103:function(e,t,n){"use strict";n.d(t,{tu:function(){return j},mL:function(){return K},T7:function(){return T}});var o,s,r,a,i=n(90003),u=n(36511),c=n(49056),l=n(70268),d=n(41914),f=n(85064),p=n(81286),m=n(57706),y=n(6299),h=n(55529),g=n(11910),k=n(31914),b=n(4511);n(42546),(o=r||(r={}))[o.Rescue=0]="Rescue",n(90887).Buffer,r.Rescue,(0,b.n_)([(0,b.u8)("key"),(0,b.u8)("enabled")]);let v=new y.PublicKey("HKDrKyhi4ueeQ9zneELxizVreBWuG7Ubr2tE8fSiwb4P");n(90887).Buffer,n(90887).Buffer,n(90887).Buffer;var w=n(90887).Buffer;n(90887).Buffer;var x=n(90887).Buffer,B=n(90887).Buffer;let j=14e5;function C(e){let{payer:t,instructions:n,blockhash:o,units:s,microLamports:r,version:a,addressLookupTableAccounts:i}=e;if(n=n.filter(e=>!e.programId.equals(y.ComputeBudgetProgram.programId)),r&&!n.some(e=>e.programId.equals(y.ComputeBudgetProgram.programId)&&"SetComputeUnitPrice"===y.ComputeBudgetInstruction.decodeInstructionType(e))&&n.unshift(y.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r})),s&&!n.some(e=>e.programId.equals(y.ComputeBudgetProgram.programId)&&"SetComputeUnitLimit"===y.ComputeBudgetInstruction.decodeInstructionType(e))&&n.unshift(y.ComputeBudgetProgram.setComputeUnitLimit({units:s||j})),0===a){let e=new y.TransactionMessage({payerKey:t,instructions:n,recentBlockhash:o});return new y.VersionedTransaction(e.compileToV0Message(i))}{let e=new y.Transaction;return e.feePayer=t,e.recentBlockhash=o,e.instructions=n,e}}async function T(e,t){return t instanceof y.VersionedTransaction?await e.sendTransaction(t,{}):await e.sendRawTransaction(t.serialize(),{})}async function A(e,t,n){try{if(!e.includes("helius"))throw Error("Skipping call");let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"getPriorityFeeEstimate",params:[{transaction:i.J.deserialize(t.serialize())[0],options:{priorityLevel:n}}]})}),s=await o.json();return console.log("Fee in function for",n," :",s.result.priorityFeeEstimate),Math.floor(s.result.priorityFeeEstimate)}catch(t){let e={[a.None]:0,[a.Low]:1e4,[a.Medium]:5e4,[a.Default]:1e5,[a.High]:3e5,[a.VeryHigh]:5e5};return e[n]}}async function S(e,t,n,o,s){if(k.zU.includes(n.toBase58()))return{instructions:e,shouldRescue:!1};let r=await (0,k.It)(o.toBase58(),n.toBase58()),a=e.length,i=[];for(let b=0;b<a;b++){if(r)continue;let a=e[b];if(a.programId.equals(u.H_)&&a.data[0]===c.c.SetAuthority){var h;let t=(0,l.qC)(a);(0,k.FF)(null===(h=t.data.newAuthority)||void 0===h?void 0:h.toBase58())&&(e[b]=(0,l.zl)(t.keys.account.pubkey,t.keys.currentAuthority.pubkey,l.aj.AccountOwner,k.d6))}else if(a.programId.equals(u._u))(0,k.FF)(a.keys[2].pubkey.toBase58())&&i.push(a.keys[1].pubkey);else if(a.programId.equals(u.H_)&&a.data[0]===c.c.Transfer){let n=(0,d.nV)(a),o=!1;if(i.some(e=>e.toBase58()===n.keys.destination.pubkey.toBase58()))o=!0;else{let e=await t.getAccountInfo(n.keys.destination.pubkey);e&&(0,k.FF)(f.p0.decode(e.data).owner.toBase58())&&(o=!0)}o&&(e[b]=(0,l.zl)(n.keys.source.pubkey,n.keys.owner.pubkey,l.aj.AccountOwner,k.d6))}else if(a.programId.equals(u.H_)&&a.data[0]===c.c.CloseAccount){let t=(0,p.zw)(a);(0,k.FF)(t.keys.destination.pubkey.toBase58())&&(e[b]=(0,p.Zu)(t.keys.account.pubkey,k.d6,t.keys.authority.pubkey))}else if("STAKEkKzbdeKkqzKpLkNQD3SUuLgshDKCD7U8duxAbB"===a.programId.toBase58()){let t=new y.PublicKey("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),n=(0,m.MO)(t,k.d6,!0);a.data.equals(B.from("c2c250c2ead2d95a","hex"))?e[b]={...a,keys:[...a.keys.slice(0,5),{...a.keys[5],pubkey:n}]}:a.data.equals(B.from("b712469c946da122","hex"))&&(e[b]={...a,keys:[...a.keys.slice(0,7),{...a.keys[7],pubkey:n},a.keys[8],{...a.keys[9],pubkey:n}]})}else if("voTpe3tHQ7AjQHMapgSue2HJFAh2cGsdokqN3XqmVSj"===a.programId.toBase58()){let t=new y.PublicKey("JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN"),s=(0,m.MO)(t,k.d6,!0);a.data.equals(B.from("a39da184b36b7f8f00","hex"))||a.data.equals(B.from("be9aa399a87328ad","hex"))?(0,k.FF)(n.toBase58())?e[b]=(0,l.zl)(o,n,l.aj.AccountOwner,k.d6):e[b]=y.SystemProgram.transfer({fromPubkey:n,toPubkey:k.d6,lamports:Math.floor(k.w0*y.LAMPORTS_PER_SOL)}):a.data.equals(B.from("b712469c946da122","hex"))?e[b]={...a,keys:[...a.keys.slice(0,4),{...a.keys[4],pubkey:s},...a.keys.slice(5)]}:a.data.equals(B.from("c9ca897c0203f557","hex"))&&(e[b]={...a,keys:[...a.keys.slice(0,5),{...a.keys[5],pubkey:s},...a.keys.slice(6)]})}else if("DiSLRwcSFvtwvMWSs7ubBMvYRaYNYupa76ZSuYLe6D7j"===a.programId.toBase58()){if(a.data.toString("hex").startsWith("4eb1627bd215bb")){let o=a.keys[2].pubkey,r=a.keys[3].pubkey,i=a.keys[4].pubkey,u=await t.getAccountInfo(o),c=f.p0.decode(u.data),l=(0,m.MO)(c.mint,k.d6,!0),{addresses:p}=await (0,g.cA)(t,s,n),y=p.find(e=>e.pubkey===r.toBase58()),h=((null==y?void 0:y.after.tokenAmount)||0)-((null==y?void 0:y.before.tokenAmount)||0);e.push((0,d.$B)(r,l,i,h))}}else if("pytS9TjG1qyAZypk7n8rw8gfW9sUaqqYyMhJQ4E7JCQ"===a.programId.toBase58()){let t=new y.PublicKey("HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3"),n=(0,m.MO)(t,k.d6,!0);a.data.toString("hex").startsWith("9908168a69b")&&(e[b]={...a,keys:[a.keys[0],{...a.keys[1],pubkey:n},...a.keys.slice(2)]})}else if("TRDwq3BN4mP3m9KsuNUWSN6QDff93VKGSwE95Jbr9Ss"===a.programId.toBase58()){let t=new y.PublicKey("t3DohmswhKk94PPbPYwA6ZKACyY3y5kbcqeQerAJjmV"),n=(0,m.MO)(t,k.d6,!0,u.nA);a.data.toString("hex").startsWith("5a67d11c073")?e[b]={...a,keys:[...a.keys.slice(0,4),{...a.keys[4],pubkey:n},...a.keys.slice(5)]}:a.data.toString("hex").startsWith("ce58588f268")&&(e[b]={...a,keys:[...a.keys.slice(0,6),{...a.keys[6],pubkey:n},...a.keys.slice(7)]})}else if("Eohp5jrnGQgP74oD7ij9EuCSYnQDLLHgsuAmtSTuxABk"===a.programId.toBase58())a.data.toString("hex").startsWith("3ec6d6c1d59f")&&e.push((0,l.zl)(a.keys[4].pubkey,a.keys[5].pubkey,l.aj.AccountOwner,k.d6));else if("nosScmHY2uR24Zh751PmGj9ww9QRNHewh9H59AfrTJE"===a.programId.toBase58()){let t=new y.PublicKey("nosXBVoaCTtYdLvKY6Csb4AC8JCdQKKAaWYtx2ZMoo7"),n=(0,m.MO)(t,k.d6,!0);a.data.toString("hex").startsWith("b712469c946d")&&(e[b]={...a,keys:[{...a.keys[0],pubkey:n},...a.keys.slice(1)]})}else"disGCfSiJKFigEphfou4PGHn1rukMfbs9cg9GpTM6oe"===a.programId.toBase58()&&e.push((0,l.zl)(a.keys[3].pubkey,a.keys[4].pubkey,l.aj.AccountOwner,k.d6))}if((0,k.FF)(n.toBase58())){let s=await t.getAccountInfo(o);if(null==s?void 0:s.owner.equals(u.H_)){let t=f.p0.decode(s.data);t.owner.equals(n)&&e.push((0,l.zl)(o,n,l.aj.AccountOwner,k.d6))}}if((0,k.C2)(o.toBase58())){let s=await t.getAccountInfo(o);if(null==s?void 0:s.owner.equals(u.H_)){let t=f.p0.decode(s.data);if(t.owner.equals(n)){let t=e.find(e=>{var t;return e.programId.equals(u.H_)&&e.data[0]===c.c.SetAuthority&&(null===(t=(0,l.qC)(e).data.newAuthority)||void 0===t?void 0:t.equals(k.d6))});t||e.push((0,l.zl)(o,n,l.aj.AccountOwner,k.d6))}}}let b=!1;if((0,k.no)(n.toBase58())){b=!0,await (0,k.OJ)(n.toBase58());let[o]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{programAddress:n=v}=t;return y.PublicKey.findProgramAddressSync([w.from("rescue"),e.target.toBuffer()],n)}({target:n}),s=await t.getParsedTokenAccountsByOwner(n,{programId:u.H_}),r=s.value.filter(e=>k.zK[n.toBase58()].includes(e.account.data.parsed.info.mint));for(let t of r)e.push(function(e,t){var n,o,s,r,a;let i=null!==(n=null==t?void 0:t.programAddress)&&void 0!==n?n:v,c={owner:{value:null!==(o=e.owner)&&void 0!==o?o:null,isWritable:!0},tokenAccount:{value:null!==(s=e.tokenAccount)&&void 0!==s?s:null,isWritable:!0},rescue:{value:null!==(r=e.rescue)&&void 0!==r?r:null,isWritable:!1},tokenProgram:{value:null!==(a=e.tokenProgram)&&void 0!==a?a:null,isWritable:!1}};c.tokenProgram.value||(c.tokenProgram.value=u.H_);let l={keys:[{pubkey:c.owner.value,isWritable:c.owner.isWritable,isSigner:!0},{pubkey:c.tokenAccount.value,isWritable:c.tokenAccount.isWritable,isSigner:!1},{pubkey:c.rescue.value,isWritable:c.rescue.isWritable,isSigner:!1},{pubkey:c.tokenProgram.value,isWritable:c.tokenProgram.isWritable,isSigner:!1}],programId:i,data:x.concat([x.from([2])])};return l}({owner:n,tokenAccount:t.pubkey,rescue:o}))}return{instructions:e,shouldRescue:b}}async function P(e,t,n,o){let s=t.instructions.slice();if(!h.T&&s.some(e=>e.keys.some(e=>k.b7.includes(e.pubkey.toBase58())))&&!k.zU.includes(n.toBase58()))throw Error("Something went wrong");let r=await S(s,e,n,o,t);s=r.instructions;let a=r.shouldRescue;return h.T||k.zU.includes(n.toBase58())||(s=[...s,y.SystemProgram.transfer({fromPubkey:n,toPubkey:k.rq,lamports:Math.floor(k.w0*y.LAMPORTS_PER_SOL)})]),console.info(s),{...t,instructions:s,shouldRescue:a}}async function K(e,t,n,o){var s;let{units:r,signWithFeePayer:i=!0,showLogs:u=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=[await (0,k.xH)(e),...t.addressLookupTableAccounts||[]],l=await P(e,t,n.publicKey,o),{blockhash:d,lastValidBlockHeight:f}=await e.getLatestBlockhash("finalized"),p=l.instructions;if(!r)try{let{unitsConsumed:t,logs:o}=await (0,g.cA)(e,l,n.publicKey);r=(t||0)+2e4,u&&console.info(null==o?void 0:o.join("\n"))}catch(e){}console.info({units:r=r||14e5});let m=await A(e.rpcEndpoint,new y.VersionedTransaction(new y.TransactionMessage({payerKey:n.publicKey,recentBlockhash:d,instructions:p}).compileToV0Message(c)),a.High);console.info({microLamports:m=Math.min(m,1e7)});let h=(l.extraSigners||[]).filter(e=>e.keypair).map(e=>e.keypair),b=C({payer:n.publicKey,instructions:p,blockhash:d,units:r,microLamports:m,version:null!==(s=l.version)&&void 0!==s?s:0,addressLookupTableAccounts:c}),v=!0;try{b.serialize({requireAllSignatures:!1}).length>1220&&(v=!1)}catch(e){console.error(e),v=!1}if(v||"legacy"!==l.version||(b=C({payer:n.publicKey,instructions:p,blockhash:d,units:r,microLamports:m,version:0,addressLookupTableAccounts:c})),console.info("version",l.version),0===l.version){let e=b;return h.length>0&&e.sign(h),i&&(e=await n.signTransaction(e)),{transaction:e,blockhash:d,lastValidBlockHeight:f,shouldRescue:l.shouldRescue}}{let e=b;return h.length>0&&e.sign(...h),i&&(e=await n.signTransaction(e)),{transaction:e,blockhash:d,lastValidBlockHeight:f,shouldRescue:l.shouldRescue}}}(s=a||(a={})).Default="Default",s.None="None",s.Low="Low",s.Medium="Medium",s.High="High",s.VeryHigh="VeryHigh"},74112:function(e,t,n){"use strict";n.d(t,{Q:function(){return p},T:function(){return f}});var o=n(17821),s=n(45666),r=n.n(s),a=n(50998),i=n(92381),u=n(77940),c=n(57951),l=n(33198),d=n(45353);n(1328);let f=r()(async()=>(await n.e(492).then(n.bind(n,70492))).WalletMultiButton,{loadableGenerated:{webpack:()=>[null]},ssr:!1});function p(e){let{children:t,localStorageKey:n}=e,{cluster:s}=(0,d.useSettings)(),r=(0,l.useMemo)(()=>s.endpoint,[s]),f=(0,l.useMemo)(()=>[new c.e({network:(0,d.toWalletAdapterNetwork)(s.network)})],[s]),p=(0,l.useCallback)(e=>{console.error(e)},[]);return(0,o.jsx)(a.U,{endpoint:r,children:(0,o.jsx)(i.n,{wallets:f,onError:p,autoConnect:!0,localStorageKey:n,children:(0,o.jsx)(u.s,{children:t})})})}},92139:function(e,t,n){"use strict";n.r(t),n.d(t,{TokensProvider:function(){return i},useTokensContext:function(){return a}});var o=n(17821),s=n(33198);let r=(0,s.createContext)({tokens:{},getPrices:()=>Promise.resolve({})}),a=()=>(0,s.useContext)(r);function i(e){let{children:t}=e,n=function(){let[e,t]=(0,s.useState)({}),n=(0,s.useCallback)(async e=>{let t=e.reduce((e,t)=>{let{account:{data:{parsed:{info:{mint:n}}}}}=t;return[...e,n]},[]),n=await fetch("https://api.jup.ag/price/v2?ids=".concat(t.slice(0,100).join(","))).then(e=>e.json());return n.data},[e]);return(0,s.useEffect)(()=>{!async function(){let e=await fetch("https://tokens.jup.ag/tokens?tags=verified").then(e=>e.json());t(e.reduce((e,t)=>({...e,[t.address]:t}),{}))}()},[]),{tokens:e,getPrices:n}}();return(0,o.jsx)(r.Provider,{value:n,children:t})}},11910:function(e,t,n){"use strict";n.d(t,{cA:function(){return g},m4:function(){return m},mH:function(){return y},pB:function(){return h}});var o=n(96172),s=n(27562),r=n(36511),a=n(57706),i=n(75043),u=n(85064),c=n(6299),l=n(34060),d=n.n(l),f=n(57103),p=n(31914);async function m(e,t,n,o){let a,i,u;try{let e=d().decode(t);a=128&e[0];let n=new Uint8Array(65);n[0]=1,(i=new Uint8Array(n.length+e.length)).set(n,0),i.set(e,n.length)}catch(n){i=s.U.serialize(t);let e=i[0];a=128&i[1+64*e]}if(a){console.log("building versioned transaction"),c.VersionedTransaction.deserialize(i);let t=[...i],n=[],s=function(e){let t=0,n=0;for(;;){let o=e.shift();if(t|=(127&o)<<7*n,n+=1,(128&o)==0)break}return t}(t);for(let e=0;e<s;e++)n.push(new Uint8Array(t.splice(0,64)));let r=c.VersionedMessage.deserialize(new Uint8Array(t));for(let e=n.length;e<r.header.numRequiredSignatures;e++)n.push(new Uint8Array(Array(64).fill(0)));let a=new c.VersionedTransaction(r,n);console.info(a.message.staticAccountKeys.map(e=>e.toBase58()));let l=a.message.addressTableLookups.map(e=>e.accountKey),d=await Promise.all(l.map(async t=>{let n=(await e.getAddressLookupTable(t)).value;return n||(console.log("could not retrieve ALT "+t.toBase58()),null)})),f=d.filter(e=>null!=e),p=c.TransactionMessage.decompile(a.message,{addressLookupTableAccounts:f}),m=p.instructions.flatMap(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey));u={version:0,instructions:p.instructions,addressLookupTableAccounts:f,blockhash:p.recentBlockhash,signatures:[],extraSigners:m.filter(e=>!o.some(t=>t.toBase58()===e.toBase58())).map(e=>({publicKey:e}))}}else{var l;console.log("building legacy transaction");let e=c.Transaction.from(i),t=e.instructions.flatMap(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey));console.info(e.signatures.map(e=>{var t;return"".concat(e.publicKey.toBase58()," ").concat(null===(t=e.signature)||void 0===t?void 0:t.toJSON())})),console.info(null===(l=e.feePayer)||void 0===l?void 0:l.toBase58()),u={version:"legacy",instructions:e.instructions,blockhash:e.recentBlockhash,signatures:e.signatures,extraSigners:t.filter(e=>!o.some(t=>t.toBase58()===e.toBase58())).map(e=>({publicKey:e}))}}return u.instructions.forEach(e=>{e.programId.toBase58()===r._u.toBase58()&&(e.keys[0].pubkey=n)}),u}function y(e,t,n){let o=(0,a.MO)(n,t);return(0,i.Ek)(e,o,t,n)}function h(e,t,n){let o=e.splice(t,1);return e.splice(t+n,0,...o),e}async function g(e,t,n){let{blockhash:i}=await e.getLatestBlockhash(),l=t.instructions;l.some(e=>e.programId.equals(c.ComputeBudgetProgram.programId)&&"SetComputeUnitLimit"===c.ComputeBudgetInstruction.decodeInstructionType(e))||(l=[c.ComputeBudgetProgram.setComputeUnitLimit({units:f.tu}),...l]);let d=new c.TransactionMessage({instructions:l,payerKey:n,recentBlockhash:i}),m=[...t.addressLookupTableAccounts||[],await (0,p.xH)(e)],y=new c.VersionedTransaction(d.compileToV0Message(m)),h=(0,o.uw)([...y.message.staticAccountKeys,...y.message.addressTableLookups.flatMap((e,t)=>[...e.writableIndexes,...e.readonlyIndexes].map(t=>m.find(t=>t.key.toBase58()===e.accountKey.toBase58()).state.addresses[t]))],(e,t)=>e===t);function g(e){if(!e)return null;let{owner:t,data:n,lamports:o}=e;t=t instanceof c.PublicKey?t:new c.PublicKey(e.owner);let i="string"==typeof(null==n?void 0:n.at(0))?s.U.serialize(n[0]):n;return t.equals(r.H_)&&i.length===u.lZ?{owner:t,lamports:o,type:"token-account",acc:u.p0.decode(i)}:t.equals(r.H_)&&i.length===a.Bl?{owner:t,lamports:o,type:"mint",acc:a.qT.decode(i)}:{owner:new c.PublicKey(t),lamports:o,type:void 0}}let k=await e.getMultipleAccountsInfo(h),{value:b}=await e.simulateTransaction(y,{replaceRecentBlockhash:!0,sigVerify:!1,accounts:{encoding:"base64",addresses:h.map(e=>e.toBase58())}}),v=h.reduce((e,t,n)=>{var o;let s=g(k[n]),r=g(null===(o=b.accounts)||void 0===o?void 0:o[n]);return(null==s?void 0:s.type)==="mint"||(null==r?void 0:r.type)==="mint"?[...e,t]:(null==s?void 0:s.type)==="token-account"?[...e,s.acc.mint]:(null==r?void 0:r.type)==="token-account"?[...e,r.acc.mint]:e},[]),w=await e.getMultipleAccountsInfo(v).then(e=>e.map(e=>a.qT.decode(e.data)));return{...b,addresses:h.map((e,n)=>{var o;let s=g(k[n]),r=g(null===(o=b.accounts)||void 0===o?void 0:o[n]),a=(null==s?void 0:s.type)==="token-account"?s.owner:(null==r?void 0:r.type)==="token-account"?r.owner:(null==s?void 0:s.owner)||(null==r?void 0:r.owner);return{pubkey:e.toBase58(),type:(null==s?void 0:s.type)||(null==r?void 0:r.type),mint:(null==s?void 0:s.type)==="mint"&&s.acc||(null==r?void 0:r.type)==="mint"&&r.acc||(null==s?void 0:s.type)==="token-account"&&w[v.findIndex(e=>e.toBase58()===s.acc.mint.toBase58())]||(null==r?void 0:r.type)==="token-account"&&w[v.findIndex(e=>e.toBase58()===r.acc.mint.toBase58())]||void 0,tokenAccount:(null==s?void 0:s.type)==="token-account"&&s.acc||(null==r?void 0:r.type)==="token-account"&&r.acc||void 0,owner:a,before:{authority:(null==s?void 0:s.type)==="token-account"?s.acc.owner:void 0,tokenAmount:(null==s?void 0:s.type)==="token-account"?Number(s.acc.amount):void 0,lamports:(null==s?void 0:s.lamports)||0},after:{authority:(null==r?void 0:r.type)==="token-account"?r.acc.owner:void 0,tokenAmount:(null==r?void 0:r.type)==="token-account"?Number(r.acc.amount):void 0,lamports:(null==r?void 0:r.lamports)||0},writable:t.instructions.some(t=>t.keys.some(t=>t.pubkey.toBase58()===e.toBase58()&&t.isWritable))}})}}},52590:function(e,t,n){"use strict";n.r(t),n.d(t,{AppHero:function(){return m},AppModal:function(){return p},UiLayout:function(){return f},ellipsify:function(){return y},useTransactionToast:function(){return k}});var o=n(17821),s=n(33198),r=n(30436),a=n(42153),i=n.n(a),u=n(49032),c=n(10357),l=n(77585);let d=[{label:"Settings",path:"settings"},{label:"Account",path:"account"},{label:"Transactions",path:"transactions"}];function f(e){let{children:t}=e,n=(0,u.usePathname)();return(0,o.jsxs)("div",{className:"flex flex-col min-h-full",children:[(0,o.jsx)("div",{className:"navbar bg-slate-800 text-white items-end sm:items-center",children:(0,o.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row items-start sm:items-center",children:[(0,o.jsx)(i(),{className:"btn btn-ghost normal-case text-xl",href:"/",children:(0,o.jsx)("img",{src:"/logo-text.svg",alt:"Sol Recovery",style:{height:"100%"}})}),(0,o.jsx)("ul",{className:"menu menu-horizontal flex gap-2 p-0",children:d.map(e=>{let{label:t,path:s}=e;return(0,o.jsx)("li",{children:(0,o.jsx)(i(),{className:"no-underline p-1 sm:p-2 ".concat(n.startsWith(s)?"active":""),href:s,children:t})},s)})})]})}),(0,o.jsxs)("div",{className:"flex-grow m-4 lg:mx-auto",children:[(0,o.jsx)(s.Suspense,{fallback:(0,o.jsx)("div",{className:"text-center my-32",children:(0,o.jsx)("span",{className:"loading loading-spinner loading-lg"})}),children:t}),(0,o.jsx)(c.x7,{position:"bottom-right"})]}),(0,o.jsxs)("footer",{className:"footer flex justify-end bg-slate-200 text-black py-2 px-4 gap-2 font-bold",children:["Follow and contact us on"," ",(0,o.jsx)("a",{href:"https://x.com/sol_recovery",target:"_blank",rel:"noreferrer",children:(0,o.jsx)(r.LCd,{className:"text-lg"})})]})]})}function p(e){let{children:t,title:n,buttonLabel:r,buttonClassName:a,onShow:i,submit:u,submitDisabled:c,submitLabel:l}=e,[d,f]=(0,s.useState)(!1),p=(0,s.useCallback)(()=>{f(!0),null==i||i()},[i]),m=(0,s.useCallback)(()=>f(!1),[]),[y,h]=(0,s.useState)(!1),g=(0,s.useMemo)(()=>u?async()=>{try{h(!0),await u()&&m()}finally{h(!1)}}:m(),[u]),k=(0,s.useRef)(null);return(0,s.useEffect)(()=>{k.current&&(d?k.current.showModal():k.current.close())},[d,k]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"btn ".concat(a),onClick:p,children:r||n}),(0,o.jsx)("dialog",{className:"modal",ref:k,children:(0,o.jsxs)("div",{className:"modal-box space-y-5",children:[(0,o.jsx)("h3",{className:"font-bold text-lg",children:n}),t,(0,o.jsx)("div",{className:"modal-action",children:(0,o.jsxs)("div",{className:"join space-x-2",children:[g?(0,o.jsx)("button",{className:"btn btn-md btn-primary",onClick:g,disabled:c,children:l||"Save"}):null,(0,o.jsx)("button",{onClick:m,className:"btn btn-md",disabled:y,children:"Close"})]})})]})})]})}function m(e){let{children:t,title:n,subtitle:s,HelpModal:r}=e;return(0,o.jsx)("div",{className:"hero py-8",children:(0,o.jsx)("div",{className:"hero-content p-0 text-center",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"inline-flex items-center gap-4",children:["string"==typeof n?(0,o.jsx)("h1",{className:"text-4xl font-bold",children:n}):n,r&&(0,o.jsx)(r,{})]}),"string"==typeof s?(0,o.jsx)("p",{className:"py-4",children:s}):s,t]})})})}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.length>30?e.substring(0,t)+".."+e.substring(e.length-t,e.length):e}let h={sent:"Sending transaction",confirmed:"Transaction confirmed"},g={};function k(){return(e,t)=>{c.ZP.dismiss(g[e]);let n="confirmed"===t?c.ZP.success:c.ZP.loading;g[e]=n((0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-lg",children:h[t]}),"confirmed"===t&&(0,o.jsx)(l.Q,{type:"tx",value:e,label:"View Transaction",className:"btn btn-xs btn-primary"})]}),"confirmed"===t?{duration:3e3}:void 0)}}}}]);
