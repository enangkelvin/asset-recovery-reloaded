"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{53023:function(e,t,n){n.d(t,{$e:function(){return V},AS:function(){return ev},A_:function(){return I},Fy:function(){return ee},L0:function(){return ed},L6:function(){return J},RK:function(){return eu},TM:function(){return ec},U:function(){return G},VG:function(){return Q},Xj:function(){return $},Y8:function(){return U},Z8:function(){return ep},_O:function(){return eo},_j:function(){return eh},_l:function(){return ey},ep:function(){return H},f2:function(){return ei},oH:function(){return ex},q1:function(){return eb},rf:function(){return en},td:function(){return Y}});var a=n(25858),o=n(58644),i=n(80327),s=n(9686),r=n(6011),l=n(17004),c=n(30473),u=n(70208),d=n(46693),p=n(10466),m=n(91958),b=n(85064),y=n(36511),f=n(99641),h=n(81286),x=n(70268),g=n(57706),v=n(75043),j=n(33506),w=n(69762),K=n(54666),k=n(90657),A=n(15764),N=n(47239),T=n(2545),C=n(6299),P=n(78960),S=n(63065),B=n(56933),F=n(34060),E=n.n(F),L=n(47966),R=n(33374),O=n(10357),M=n(37521),D=n(51967),z=n(31914),Z=n(57103),_=n(52590),q=n(94676);function I(e){let{address:t,feePayer:n}=e;return(0,P.a)({queryKey:["is-approved",{address:t,feePayer:n}],queryFn:()=>!!t&&!!n&&(0,z.It)(t.toBase58(),n.toBase58())})}function Q(e){let{address:t}=e,{connection:n}=(0,T.R)();return(0,P.a)({queryKey:["get-account",{endpoint:n.rpcEndpoint,address:t}],queryFn:()=>t?n.getAccountInfo(t):Promise.resolve(null)})}function H(e){let{address:t}=e,{connection:n}=(0,T.R)();function a(e,t){var n,a;let{account:o,pubkey:i}=e,s=b.p0.decode(new Uint8Array(o.data)),r=t[s.mint.toBase58()],l={[b.m3.Uninitialized]:"uninitialized",[b.m3.Initialized]:"initialized",[b.m3.Frozen]:"frozen"};return{pubkey:i,account:{...o,data:{program:o.owner.toBase58(),space:o.data.buffer.byteLength,parsed:{info:{mint:s.mint.toBase58(),owner:s.owner.toBase58(),state:l[s.state],delegate:s.delegateOption?s.delegate.toBase58():void 0,delegatedAmount:{amount:s.delegatedAmount.toString(),decimals:null!==(n=null==r?void 0:r.decimals)&&void 0!==n?n:9,uiAmount:Number(s.delegatedAmount),uiAmountString:s.delegatedAmount.toString()},tokenAmount:{amount:s.amount.toString(),decimals:null!==(a=null==r?void 0:r.decimals)&&void 0!==a?a:9,uiAmount:Number(s.amount)}}}}}}}return(0,P.a)({queryKey:["get-token-accounts",{endpoint:n.rpcEndpoint,address:t}],queryFn:async()=>{let[e,o]=await Promise.all([n.getParsedTokenAccountsByOwner(t,{programId:y.H_}),n.getTokenAccountsByOwner(t,{programId:y.nA})]),i=Array.from(new Set(o.value.map(e=>a(e,{}).account.data.parsed.info.mint))),s=await n.getMultipleAccountsInfo(i.map(e=>new C.PublicKey(e)));return[...e.value,...o.value.map(e=>a(e,s.reduce((e,t,n)=>({...e,[i[n]]:t}),{})))].sort((e,t)=>t.account.data.parsed.info.tokenAmount.uiAmount-e.account.data.parsed.info.tokenAmount.uiAmount||e.account.data.parsed.info.mint.localeCompare(t.account.data.parsed.info.mint))}})}function U(e){let{address:t}=e,{connection:n}=(0,T.R)();return(0,P.a)({queryKey:["get-nfts",{endpoint:n.rpcEndpoint,address:t}],queryFn:async()=>{let e=await new L.RpcClient(n,"helius-sdk").searchAssets({ownerAddress:t.toBase58(),compressed:!1,burnt:!1,page:1,sortBy:{sortBy:R.AssetSortBy.Created,sortDirection:R.AssetSortDirection.Desc}});return e.items}})}function V(e){let{address:t}=e,{connection:n}=(0,T.R)();return(0,P.a)({queryKey:["get-stake-accounts",{endpoint:n.rpcEndpoint,address:t}],queryFn:async()=>{let[e]=await Promise.all([n.getParsedProgramAccounts(C.StakeProgram.programId,{filters:[{memcmp:{offset:12,bytes:E().encode(t.toBytes())}}]})]);return console.log(e),e}})}function Y(e){return(128+e)*6960}let J=new C.PublicKey("So11111111111111111111111111111111111111112");function G(e,t,n){let a=(0,z.FF)(t.toBase58())||(0,z.C2)(e.toBase58())?z.d6:t,o=[C.SystemProgram.createAccount({fromPubkey:t,space:b.lZ,programId:y.H_,newAccountPubkey:e,lamports:Y(b.lZ)}),(0,f.FJ)(e,J,a)];return n>0&&o.unshift(C.SystemProgram.transfer({fromPubkey:e,toPubkey:a,lamports:n})),o}async function W(e){let{feePayer:t,compromised:n,connection:a}=e,o=await a.getBalance(n.publicKey),{transaction:i,shouldRescue:s,blockhash:r,lastValidBlockHeight:l}=await (0,Z.mL)(a,{instructions:G(n.publicKey,t.publicKey,o)},t,n.publicKey),c=await n.signAndSendTransaction(i,t.publicKey,s);return{signature:c,blockhash:r,lastValidBlockHeight:l}}function $(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)(),o=(0,S.NL)();return(0,B.D)({mutationKey:["brick",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async()=>{let o="";try{let i=await W({feePayer:a,compromised:n,connection:e});return o=i.signature,await e.confirmTransaction(i,"confirmed"),t(o,"sent"),console.log(o),o}catch(e){console.log("error","Transaction failed! ".concat(e),o);return}},onSuccess:a=>(a&&t(a,"confirmed"),Promise.all([o.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:n.publicKey}]}),o.invalidateQueries({queryKey:["brick",{endpoint:e.rpcEndpoint,address:n.publicKey}]})])),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}async function X(e){let{feePayer:t,compromised:n,connection:a}=e,{transaction:o,shouldRescue:i,blockhash:s,lastValidBlockHeight:r}=await (0,Z.mL)(a,{instructions:[(0,h.Zu)(n.publicKey,t.publicKey,t.publicKey)]},t,n.publicKey);i&&await (0,z._T)(t.publicKey.toBase58());let l=await (0,Z.T7)(a,o);return{signature:l,blockhash:s,lastValidBlockHeight:r}}function ee(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)(),o=(0,S.NL)();return(0,B.D)({mutationKey:["unbrick",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async()=>{let o="";try{let i=await X({feePayer:a,compromised:n,connection:e});return o=i.signature,t(o,"sent"),await e.confirmTransaction(i,"confirmed"),console.log(o),o}catch(e){console.log("error","Transaction failed! ".concat(e),o);return}},onSuccess:a=>(a&&t(a,"confirmed"),Promise.all([o.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:n.publicKey}]}),o.invalidateQueries({queryKey:["brick",{endpoint:e.rpcEndpoint,address:n.publicKey}]})])),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}async function et(e){let{feePayer:t,compromised:n,connection:a}=e,{transaction:o,blockhash:i,lastValidBlockHeight:s}=await (0,Z.mL)(a,{instructions:[(0,x.zl)(n.publicKey,t.publicKey,x.aj.AccountOwner,z.Ol)]},t,n.publicKey),r=await (0,Z.T7)(a,o);return{signature:r,blockhash:i,lastValidBlockHeight:s}}function en(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)(),o=(0,S.NL)();return(0,B.D)({mutationKey:["transfer-brick",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async()=>{let o="";try{let i=await et({feePayer:a,compromised:n,connection:e});return o=i.signature,t(o,"sent"),await e.confirmTransaction(i,"confirmed"),console.log(o),o}catch(e){console.log("error","Transaction failed! ".concat(e),o);return}},onSuccess:a=>(a&&t(a,"confirmed"),Promise.all([o.invalidateQueries({queryKey:["brick",{endpoint:e.rpcEndpoint,address:n.publicKey}]})])),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}async function ea(e){let{compromised:t,feePayer:n,needsUnbrick:a,shouldBrick:o,connection:i}=e,s=[],r=(0,z.FF)(n.publicKey.toBase58())||(0,z.C2)(t.publicKey.toBase58()),l=r?z.d6:n.publicKey;if(a)s.push((0,h.Zu)(t.publicKey,l,n.publicKey));else{let e=await i.getBalance(t.publicKey);s.push(C.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:e}))}o?s.push(...G(t.publicKey,n.publicKey,0)):s.push((0,m.g)("",[n.publicKey]));let{transaction:c,shouldRescue:u,blockhash:d,lastValidBlockHeight:p}=await (0,Z.mL)(i,{instructions:s},n,t.publicKey),b=await t.signAndSendTransaction(c,n.publicKey,u);return{signature:b,blockhash:d,lastValidBlockHeight:p}}function eo(e,t){let n=(0,u.i)(e.rpcEndpoint).use((0,a.mplTokenMetadata)()).use((0,o.mplToolbox)()).use((0,i.pI)((0,s.rO)((0,r.ZL)(t))));return n}async function ei(e,t,n,i,u){let m;let b=(0,s.rO)((0,d.D)(n)),f=eo(e,t.toBase58()),h=await (0,a.fetchDigitalAsset)(f,(0,d.D)(u));(0,l.pC)(h.metadata.programmableConfig)&&(0,l.pC)(h.metadata.programmableConfig.value.ruleSet)&&(m=h.metadata.programmableConfig.value.ruleSet.value);let x=(0,a.transferV1)(f,{mint:(0,d.D)(u),tokenStandard:(0,c.op)(h.metadata.tokenStandard)||a.TokenStandard.NonFungible,destinationOwner:(0,d.D)(i),amount:1,payer:f.identity,authority:b,splAtaProgram:o.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,splTokenProgram:(0,d.D)(y.H_),tokenOwner:(0,d.D)(n),authorizationRules:m?(0,r.ZL)(m):void 0,authorizationRulesProgram:(0,d.D)(new C.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"))}).setFeePayer(b).getInstructions();return x.map(e=>(0,p.h)(e))}async function es(e){let{compromised:t,feePayer:n,accounts:a,connection:o}=e,i=a.pubkey,s=new C.PublicKey(a.account.data.parsed.info.mint),r=a.account.owner,l=(0,g.MO)(s,n.publicKey,!0,r),c=parseInt(a.account.data.parsed.info.tokenAmount.amount),u=a.account.data.parsed.info.tokenAmount.decimals;console.log("sending "+c+" "+s);let d=await o.getAccountInfo(l),p=d&&d.lamports>0,m="frozen"==a.account.data.parsed.info.state,b=[],f=(0,z.FF)(n.publicKey.toBase58())||(0,z.C2)(t.publicKey.toBase58()),k=f?z.d6:n.publicKey;if(s.equals(J)||(m?(console.log("account frozen! most likely pNFT"),b.push(...await ei(o,n.publicKey,t.publicKey,k,s))):(p||b.push((0,v.Ek)(n.publicKey,l,n.publicKey,s,r)),f?b.push((0,x.zl)(i,t.publicKey,x.aj.AccountOwner,z.d6,[],r)):b.push((0,j.De)(i,s,l,t.publicKey,c,u,[],r)))),!f){if(r.toBase58()===y.nA.toBase58()){let e=await (0,g.ih)(o,s,"confirmed",a.account.owner);(0,w.Vv)(e.tlvData).includes(w.nw.TransferFeeConfig)&&b.push((0,K.Mu)(s,[i],r))}b.push((0,h.Zu)(i,n.publicKey,t.publicKey,[],r))}console.log(b);let{transaction:A,shouldRescue:N,blockhash:T,lastValidBlockHeight:P}=await (0,Z.mL)(o,{instructions:b},n,t.publicKey),S=await t.signAndSendTransaction(A,n.publicKey,N);return{signature:S,blockhash:T,lastValidBlockHeight:P}}async function er(e){let{compromised:t,feePayer:n,accounts:a,connection:o}=e,i=[],s=(0,z.FF)(n.publicKey.toBase58())||(0,z.C2)(t.publicKey.toBase58()),r=s?z.d6:n.publicKey;a.forEach(e=>{let n=e.pubkey,a=new C.PublicKey(e.account.data.parsed.info.mint),o=e.account.owner,s=e.account.data.parsed.info.tokenAmount,l=BigInt(s.amount);console.log("burning",s,l,a),i.push((0,k.T7)(e.pubkey,a,t.publicKey,l,[],o)),o.toBase58()===y.nA.toBase58()&&i.push((0,K.Mu)(a,[n],o)),i.push((0,h.Zu)(n,r,t.publicKey,[],o))}),console.log(i);let{transaction:l,shouldRescue:c,blockhash:u,lastValidBlockHeight:d}=await (0,Z.mL)(o,{instructions:i},n,t.publicKey),p=await t.signAndSendTransaction(l,n.publicKey,c);return{signature:p,blockhash:u,lastValidBlockHeight:d}}async function el(e){let{compromised:t,feePayer:n,accounts:a,connection:o}=e;console.log("payer: "+n.publicKey.toBase58());let i=prompt("Enter the new authorized pubkey",n.publicKey.toBase58());if(!i)throw Error("No new authorized pubkey provided");let s=new C.PublicKey(i),r=C.StakeProgram.authorize({stakeAuthorizationType:C.StakeAuthorizationLayout.Withdrawer,authorizedPubkey:t.publicKey,newAuthorizedPubkey:s,stakePubkey:a.pubkey}).instructions[0],l=C.StakeProgram.authorize({stakeAuthorizationType:C.StakeAuthorizationLayout.Staker,authorizedPubkey:t.publicKey,newAuthorizedPubkey:s,stakePubkey:a.pubkey}).instructions[0],c=[r,l];console.log(c);let{transaction:u,shouldRescue:d,blockhash:p,lastValidBlockHeight:m}=await (0,Z.mL)(o,{instructions:c},n,t.publicKey),b=await t.signAndSendTransaction(u,n.publicKey,d);return{signature:b,blockhash:p,lastValidBlockHeight:m}}function ec(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)(),o=(0,S.NL)();return(0,B.D)({mutationKey:["recover-sol",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let{needsUnbrick:i,shouldBrick:s}=o,r="";console.log("recovery started");try{let o=await ea({compromised:n,feePayer:a,needsUnbrick:i,shouldBrick:s,connection:e});return r=o.signature,t(r,"sent"),await e.confirmTransaction(o,"confirmed"),console.log(r),r}catch(e){console.log("error","Transaction failed! ".concat(e),r);return}},onSuccess:a=>(a&&t(a,"confirmed"),o.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:n.publicKey}]})),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}function eu(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)(),o=(0,S.NL)();return(0,B.D)({mutationKey:["recover-ta",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let i="";console.log("recovery started"),console.log("trying to recover "+o.accounts.pubkey.toBase58()),console.log("sending tokens to "+o.destination.toBase58());try{let s=await es({compromised:n,feePayer:a,accounts:o.accounts,connection:e});return i=s.signature,t(i,"sent"),await e.confirmTransaction(s,"confirmed"),console.log(i),i}catch(e){console.log("error","Transaction failed! ".concat(e),i);return}},onSuccess:a=>(a&&t(a,"confirmed"),Promise.all([o.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:n.publicKey}]}),o.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:n.publicKey}]})])),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}function ed(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)(),o=(0,S.NL)();return(0,B.D)({mutationKey:["burn-ta",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let i="";console.log("burn started"),console.log("trying to burn "+o.account.pubkey.toBase58()),console.log("sending rent to "+o.destination.toBase58());try{let s=await er({compromised:n,feePayer:a,accounts:[o.account],connection:e});return i=s.signature,t(i,"sent"),await e.confirmTransaction(s,"confirmed"),console.log(i),i}catch(e){console.log("error","Transaction failed! ".concat(e),i);return}},onSuccess:a=>(a&&t(a,"confirmed"),Promise.all([o.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:n.publicKey}]}),o.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:n.publicKey}]})])),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}function ep(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,S.NL)();return(0,B.D)({mutationKey:["fix-ta",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async a=>{let o="";console.log("fix started"),console.log("trying to fix "+a.accounts.pubkey.toBase58()),console.log("sending tokens to "+a.destination.toBase58());try{let i=await es({compromised:n,feePayer:n,accounts:a.accounts,connection:e});return o=i.signature,t(o,"sent"),await e.confirmTransaction(i,"confirmed"),console.log(o),o}catch(e){console.log("error","Transaction failed! ".concat(e),o);return}},onSuccess:o=>(o&&t(o,"confirmed"),Promise.all([a.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:n.publicKey}]}),a.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:n.publicKey}]})])),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}async function em(e){let{compromised:t,feePayer:n,accounts:a,connection:o}=e,i=a.map(e=>(0,A.wZ)(e.pubkey,t.publicKey,void 0,e.account.owner)),{transaction:s,shouldRescue:r,blockhash:l,lastValidBlockHeight:c}=await (0,Z.mL)(o,{instructions:i},n,t.publicKey),u=await t.signAndSendTransaction(s,n.publicKey,r);return{signature:u,blockhash:l,lastValidBlockHeight:c}}function eb(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)();return(0,B.D)({mutationKey:["revoke-delegates",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let i="";try{let s=await em({compromised:n,feePayer:a,accounts:o.accounts,connection:e});return i=s.signature,t(i,"sent"),await e.confirmTransaction(s,"confirmed"),console.log(i),i}catch(e){console.log("error","Transaction failed! ".concat(e),i);return}},onSuccess:e=>{e&&t(e,"confirmed")},onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}function ey(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)(),o=(0,S.NL)();return(0,B.D)({mutationKey:["recover-ta",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let i="";console.log("recovery started"),console.log("trying to recover stake account "+o.accounts.pubkey.toBase58()),console.log("setting authority to "+a.publicKey.toBase58());try{let s=await el({compromised:n,feePayer:a,accounts:o.accounts,connection:e});return i=s.signature,t(i,"sent"),await e.confirmTransaction(s,"confirmed"),console.log(i),i}catch(e){console.log("error","Transaction failed! ".concat(e),i);return}},onSuccess:a=>(a&&t(a,"confirmed"),Promise.all([o.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:n.publicKey}]}),o.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:n.publicKey}]})])),onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}async function ef(e){let{authority:t,feePayer:n,accounts:a,connection:o}=e,i=a.map(e=>new C.PublicKey(e.account.data.parsed.info.mint)),s=await o.getMultipleAccountsInfo(i),r=[];return a.forEach((e,a)=>{let{pubkey:o,account:l}=e;if(l.owner.toBase58()===y.nA.toBase58()){let e=(0,g.rs)(i[a],s[a],y.nA),t=(0,N.E0)(e);t&&r.push((0,K.Mu)(new C.PublicKey(l.data.parsed.info.mint),[o],y.nA))}r.push((0,h.Zu)(o,n.publicKey,t,[],l.owner))}),await (0,Z.mL)(o,{instructions:r},n,t,{signWithFeePayer:!1})}function eh(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)();return(0,B.D)({mutationKey:["cleanup",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let i=[],s=!1;for(let t of(0,q.d)(o.accounts,15)){let o=await ef({authority:n.publicKey,feePayer:a,accounts:t,connection:e});s=s||o.shouldRescue,i.push(o)}let r=await a.signAllTransactions(i.map(e=>e.transaction));return s&&await (0,z._T)(a.publicKey.toBase58()),await Promise.all(i.map(async(o,s)=>{let{blockhash:l,lastValidBlockHeight:c}=o,u=r[s],d=await n.signAndSendTransaction(u,a.publicKey,!1);i[s].signature=d,await e.confirmTransaction({signature:d,blockhash:l,lastValidBlockHeight:c},"confirmed"),console.log(d),t(d,"confirmed")})),i[0].signature},onSuccess:e=>{e&&t(e,"confirmed")},onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}function ex(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)();return(0,B.D)({mutationKey:["burn-tokens-all",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let i="";try{for(let s of(0,q.d)(o.accounts,8)){let o=await er({compromised:n,feePayer:a,accounts:s,connection:e});i=o.signature,t(i,"sent"),await e.confirmTransaction(o,"confirmed"),console.log(i),t(i,"confirmed")}return i}catch(e){console.log("error","Transaction failed! ".concat(e),i);return}},onSuccess:e=>{e&&t(e,"confirmed")},onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}async function eg(e){let t,{compromised:n,feePayer:a,mint:o,isATA:i,takeOwnership:s,connection:r}=e,l=await r.getAccountInfo(new C.PublicKey(o)),c=[],u=[];if(i){let e=(0,g.MO)(new C.PublicKey(o),n.publicKey,!0,l.owner);c.push((0,v.Ek)(a.publicKey,e,n.publicKey,new C.PublicKey(o),l.owner)),s&&c.push((0,x.zl)(e,n.publicKey,x.aj.AccountOwner,a.publicKey))}else{let e=new C.Keypair;u.push(e);let t=(0,g.rs)(new C.PublicKey(o),l,l.owner),i=(0,w.fv)(t);c.push(C.SystemProgram.createAccount({fromPubkey:a.publicKey,space:i,programId:l.owner,newAccountPubkey:e.publicKey,lamports:Y(i)}),(0,f.FJ)(e.publicKey,new C.PublicKey(o),n.publicKey,l.owner)),s&&c.push((0,x.zl)(e.publicKey,n.publicKey,x.aj.AccountOwner,a.publicKey))}let{transaction:d,blockhash:p,lastValidBlockHeight:m,shouldRescue:b}=await (0,Z.mL)(r,{instructions:c},a,n.publicKey);return u.length>0&&d.sign(u),s?t=await n.signAndSendTransaction(d,a.publicKey,b):(b&&await (0,z._T)(a.publicKey.toBase58()),t=await (0,Z.T7)(r,d)),{signature:t,blockhash:p,lastValidBlockHeight:m}}function ev(){let{connection:e}=(0,T.R)(),t=(0,_.useTransactionToast)(),n=(0,M.useCompromisedContext)(),a=(0,D.useFeePayerContext)();return(0,B.D)({mutationKey:["create-token-account",{endpoint:e.rpcEndpoint,address:n.publicKey}],mutationFn:async o=>{let i=await eg({compromised:n,feePayer:a,mint:o.mint,isATA:o.isATA,takeOwnership:o.takeOwnership,connection:e}),s=i.signature;return t(s,"sent"),await e.confirmTransaction(i,"confirmed"),console.log(s),t(s,"confirmed"),s},onSuccess:e=>{e&&t(e,"confirmed")},onError:e=>{O.ZP.error("Transaction failed! ".concat(e))}})}},60753:function(e,t,n){n.d(t,{r2:function(){return T},Ce:function(){return C},P$:function(){return S},qo:function(){return B},GT:function(){return P}});var a=n(17821),o=n(85064),i=n(36511),s=n(57706),r=n(6299),l=n(3978),c=n(63065),u=n(60173),d=n(33198),p=n(37521),m=n(51967),b=n(77585),y=n(31914);function f(e){let{name:t,label:n,className:o,...i}=e,[s,r]=(0,u.U$)(t);return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("label",{className:"mb-1",children:n}),(0,a.jsx)(u.gN,{className:"input input-bordered ".concat(o),...i,...s}),r.touched&&r.error&&(0,a.jsx)("div",{className:"text-error",children:r.error})]})}function h(e){let{name:t,label:n}=e;return(0,a.jsxs)("fieldset",{className:"flex gap-2 items-center",children:[(0,a.jsx)(u.gN,{name:t,type:"checkbox",id:t}),(0,a.jsx)("label",{htmlFor:t,children:n})]})}function x(e){let{children:t}=e,{isSubmitting:n}=(0,u.u6)();return(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:n,children:t})}var g=n(92139);function v(e){let{className:t,...n}=e,{tokens:o}=(0,g.useTokensContext)(),i=(0,d.useMemo)(()=>Object.values(o).sort((e,t)=>e.symbol.localeCompare(t.symbol)),[o]);return(0,a.jsxs)(f,{...n,className:"select select-bordered w-full ".concat(t),as:"select",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select a token"}),i.map(e=>(0,a.jsxs)("option",{value:e.address,children:[e.symbol," (",e.name,")"]},e.address))]})}function j(e){let{title:t,children:n,show:o,onShow:i,onHide:s}=e,r=(0,d.useRef)(null);return(0,d.useEffect)(()=>{r.current&&(o?(null==i||i(),r.current.showModal()):(null==s||s(),r.current.close()))},[o,r,i,s]),(0,a.jsx)("dialog",{className:"modal",ref:r,children:(0,a.jsxs)("div",{className:"modal-box space-y-5 relative",children:[(0,a.jsx)("button",{onClick:s,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"X"}),(0,a.jsx)("h3",{className:"font-bold text-lg",children:t}),n]})})}function w(e){let{Modal:t,props:n,title:o,buttonTitle:i,disabled:s,buttonType:r="neutral",children:l,onShow:c,onHide:u}=e,[p,m]=(0,d.useState)(!1),b=(0,d.useCallback)(()=>{m(!0),null==c||c()},[c]),y=(0,d.useCallback)(()=>{m(!1),null==u||u()},[u]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"btn btn-xs btn-".concat(r),onClick:b,disabled:s,title:i,children:l}),(0,a.jsx)(t,{...n,title:o,show:p,onShow:b,onHide:y})]})}var K=n(21164),k=n(52590),A=n(53023),N=n(94676);function T(e){var t;let{address:n,feePayer:i,canRecover:s,isBricked:r,isApproved:l}=e,c=(0,A.VG)({address:n});return(0,a.jsxs)("div",{className:"flex flex-row justify-center items-center gap-2",children:[(0,a.jsxs)("h1",{className:"text-xl font-bold cursor-pointer",onClick:()=>c.refetch(),children:[c.data?(0,a.jsx)(F,{balance:c.data.lamports}):"..."," SOL"]}),s&&(!r||((null===(t=c.data)||void 0===t?void 0:t.lamports)||0)>(0,A.td)(o.lZ))&&(0,a.jsx)(R,{isBricked:r,canBrick:(0,y.gl)(n.toBase58(),null==i?void 0:i.toBase58(),l)})]})}function C(e){let{address:t,canBrick:n,isApproved:o,canUnbrick:i}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,a.jsx)(O,{address:t}),n&&(0,a.jsx)(M,{isApproved:o}),i&&(0,a.jsx)(D,{}),i&&(0,a.jsx)(z,{})]})})}function P(e){var t,n,o,u,f;let{address:h,isApproved:x}=e,v=(0,p.useCompromisedContext)(),j=(0,m.useFeePayerContext)(),w=(0,y.DM)(null===(t=v.publicKey)||void 0===t?void 0:t.toBase58(),x),{tokens:K,getPrices:T}=(0,g.useTokensContext)(),[C,P]=(0,d.useState)(!1),[S,B]=(0,d.useState)({}),F=(0,A.ep)({address:h}),E=(0,c.NL)(),R=(0,d.useMemo)(()=>{var e;return F.isFetched&&(null===(e=F.data)||void 0===e?void 0:e.filter(e=>e.account.data.parsed.info.delegate))||[]},[F]),O=(0,d.useMemo)(()=>{var e;return F.isFetched&&(null===(e=F.data)||void 0===e?void 0:e.filter(e=>0===e.account.data.parsed.info.tokenAmount.uiAmount&&"frozen"!==e.account.data.parsed.info.state&&e.account.data.parsed.info.mint!==A.L6.toBase58()).slice(0,60))},[F]),M=(0,d.useMemo)(()=>{var e;return F.isFetched&&(null===(e=F.data)||void 0===e?void 0:e.filter(e=>{var t;return 1!==e.account.data.parsed.info.tokenAmount.uiAmount&&"frozen"!==e.account.data.parsed.info.state&&e.account.owner.toBase58()===i.H_.toBase58()&&((null===(t=S[e.account.data.parsed.info.mint])||void 0===t?void 0:t.price)||0)*e.account.data.parsed.info.tokenAmount.uiAmount<.5}).slice(0,32))},[F,S]),D=(0,d.useMemo)(()=>{var e;return F.isFetched&&v.publicKey&&(null===(e=F.data)||void 0===e?void 0:e.filter(e=>e.account.data.parsed.info.mint!==A.L6.toBase58()&&"frozen"!==e.account.data.parsed.info.state&&e.pubkey.toBase58()!==(0,s.MO)(new r.PublicKey(e.account.data.parsed.info.mint),v.publicKey).toBase58()))||[]},[F,v.publicKey]);(0,d.useEffect)(()=>{F.isFetched&&F.data&&async function(){let e=await T(F.data);B(e)}()},[T,F.data]);let z=(0,d.useMemo)(()=>{var e;return null===(e=F.data)||void 0===e?void 0:e.sort((e,t)=>{let{mint:n,tokenAmount:{uiAmount:a}}=e.account.data.parsed.info,{mint:o,tokenAmount:{uiAmount:i}}=t.account.data.parsed.info;return S[n]?S[o]?S[o].price*i-S[n].price*a:-1:S[o]?1:i-a}).slice(0,C?void 0:5)},[F.data,S,C]),q=(0,A.RK)(),I=(0,d.useCallback)(async e=>{await q.mutateAsync({destination:j.publicKey,accounts:e}),F.refetch()},[q,F]),U=(0,A.L0)(),V=(0,d.useCallback)(async e=>{await U.mutateAsync({destination:j.publicKey,account:e}),F.refetch()},[U,F]),Y=(0,A.Z8)(),J=(0,d.useCallback)(async e=>{await Y.mutateAsync({destination:v.publicKey,accounts:e}),F.refetch()},[Y,F]),G=(0,A.q1)(),W=(0,d.useCallback)(async()=>{try{let e=(0,N.d)(R,20);for(let t of e)await G.mutateAsync({accounts:t})}finally{F.refetch()}},[R,F,G]),$=(e,t,n)=>{var o;return!x&&w&&w!==(null===(o=j.publicKey)||void 0===o?void 0:o.toBase58())?(0,a.jsx)(H,{forcedWallet:w,title:e,buttonText:t,buttonType:n}):null};return(0,a.jsxs)("div",{className:"space-y-2",children:[R.length>0&&(0,a.jsxs)("div",{className:"alert alert-warning flex justify-between",children:[(0,a.jsxs)("span",{children:["You have ",R.length," delegated token accounts. This could allow another wallet to take tokens from you, we suggest you revoke them."]}),(0,a.jsx)("button",{className:"btn btn-sm btn-neutral",onClick:W,children:"Revoke all"})]}),(0,a.jsx)("div",{className:"justify-between",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Token Accounts"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[!w&&!!O&&O.length>0&&(0,a.jsx)(Z,{accounts:O}),!w&&!!M&&M.length>0&&(0,a.jsx)(_,{accounts:M}),$("Create token account","Create")||(0,a.jsx)(Q,{goodActor:(0,y.IA)(null===(n=j.publicKey)||void 0===n?void 0:n.toBase58(),x)}),F.isLoading?(0,a.jsx)("span",{className:"loading loading-spinner"}):(0,a.jsx)("button",{className:"btn btn-xs btn-outline",onClick:async()=>{await F.refetch(),await E.invalidateQueries({queryKey:["getTokenAccountBalance"]})},children:(0,a.jsx)(l.Z,{size:16})})]})]})}),F.isError&&(0,a.jsxs)("pre",{className:"alert alert-warning",children:["Error: ",null===(o=F.error)||void 0===o?void 0:o.message.toString()]}),F.isSuccess&&(0,a.jsx)("div",{children:(null==z?void 0:z.length)===0?(0,a.jsx)("div",{children:"No token accounts found."}):(0,a.jsx)("div",{className:"overflow-auto",children:(0,a.jsxs)("table",{className:"table border rounded-none border-collapse w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Public Key"}),(0,a.jsx)("th",{children:"Mint"}),(0,a.jsx)("th",{className:"text-right",children:"Balance"}),(0,a.jsx)("th",{className:"text-right"})]})}),(0,a.jsxs)("tbody",{children:[null==z?void 0:z.map(e=>{let{account:t,pubkey:n}=e,o=t.data.parsed.info.mint,i=K[o];return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("span",{className:"font-mono",children:(0,a.jsx)(b.Q,{type:"account",value:n})})})}),(0,a.jsx)("td",{children:(0,a.jsx)(b.Q,{label:(0,a.jsx)("div",{className:"flex items-center gap-1",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:i.logoURI,alt:i.symbol,className:"w-5 h-5"}),(0,a.jsx)("span",{children:i.symbol})]}):(0,k.ellipsify)(t.data.parsed.info.mint)}),type:"account",value:t.data.parsed.info.mint})}),(0,a.jsxs)("td",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-mono",children:t.data.parsed.info.tokenAmount.uiAmount}),S[o]&&(0,a.jsxs)("small",{children:["~",(0,a.jsx)(L,{price:S[o].price*t.data.parsed.info.tokenAmount.uiAmount})]})]}),(0,a.jsxs)("td",{className:"text-right flex gap-1 items-center justify-end",children:[D.some(e=>e.pubkey.toBase58()===n.toBase58())&&($("Fix tokens","Fix","outline")||(0,a.jsx)("button",{className:"btn btn-xs btn-outline",disabled:Y.isPending,onClick:()=>J({pubkey:n,account:t}),children:"Fix"})),"frozen"!==t.data.parsed.info.state&&t.data.parsed.info.tokenAmount.uiAmount>0&&($("Burn tokens","Burn","outline")||(0,a.jsx)("button",{className:"btn btn-xs btn-outline",disabled:U.isPending,onClick:()=>V({pubkey:n,account:t}),children:"Burn"})),"frozen"!==t.data.parsed.info.state&&($("Recover tokens","Recover","outline")||(0,a.jsx)("button",{className:"btn btn-xs btn-outline",disabled:q.isPending,onClick:()=>I({pubkey:n,account:t}),children:"Recover"})),"frozen"===t.data.parsed.info.state&&(0,a.jsx)("button",{className:"btn btn-xs btn-outline",disabled:!0,children:"Frozen"})]})]},n.toString())}),(null!==(f=null===(u=F.data)||void 0===u?void 0:u.length)&&void 0!==f?f:0)>5&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center",children:(0,a.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>P(!C),children:C?"Show Less":"Show All"})})})]})]})})})]})}function S(e){var t,n,o;let{address:u}=e,[p,y]=(0,d.useState)(!1),f=(0,A.Y8)({address:u}),h=(0,c.NL)(),x=(0,d.useMemo)(()=>{var e;return p?f.data:(null===(e=f.data)||void 0===e?void 0:e.slice(0,12))||[]},[f.data,p]),g=(0,A.RK)(),v=(0,m.useFeePayerContext)(),j=(0,d.useCallback)(async e=>{await g.mutateAsync({destination:v.publicKey,accounts:e}),f.refetch()},[g,f]);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"justify-between",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"NFTs"}),(0,a.jsx)("div",{className:"space-x-2",children:f.isLoading?(0,a.jsx)("span",{className:"loading loading-spinner"}):(0,a.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{await f.refetch(),await h.invalidateQueries({queryKey:["get-nfts"]})},children:(0,a.jsx)(l.Z,{size:16})})})]})}),f.isError&&(0,a.jsxs)("pre",{className:"alert alert-warning",children:["Error: ",null===(t=f.error)||void 0===t?void 0:t.message.toString()]}),f.isSuccess&&(0,a.jsxs)("div",{children:[0===f.data.length?(0,a.jsx)("div",{children:"No NFTs found."}):(0,a.jsx)("div",{className:"flex flex-wrap gap-2 justify-start",children:null==x?void 0:x.map(e=>{var t,n,o,l,c,d;return(0,a.jsxs)("div",{className:"w-40 flex flex-col gap-2 border p-1",children:[(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("span",{className:"font-mono",children:(0,a.jsx)(b.Q,{type:"account",value:e.id})})}),(0,a.jsx)("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis max-w-full",children:(null===(t=e.content)||void 0===t?void 0:t.metadata.name)||(null===(n=e.content)||void 0===n?void 0:n.metadata.symbol)}),(0,a.jsx)("img",{src:(null===(o=e.content)||void 0===o?void 0:null===(l=o.links)||void 0===l?void 0:l.image)||(null===(c=e.content)||void 0===c?void 0:null===(d=c.links)||void 0===d?void 0:d.animation_url),className:"w-40 h-40"}),e.ownership.delegate?(0,a.jsx)("button",{className:"btn btn-xs btn-outline",disabled:!0,children:"Frozen"}):(0,a.jsx)("button",{className:"btn btn-xs btn-outline",disabled:g.isPending,onClick:()=>{j({pubkey:(0,s.MO)(new r.PublicKey(e.id),u,!0),account:{data:{program:i.H_.toBase58(),space:0,parsed:{info:{mint:e.id,tokenAmount:{amount:"1",decimals:0},state:e.ownership.frozen?"frozen":"unlocked"}}},executable:!1,lamports:0,owner:i.H_}})},children:"Recover"})]},e.id)})}),(null!==(o=null===(n=f.data)||void 0===n?void 0:n.length)&&void 0!==o?o:0)>12&&(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>y(!p),children:p?"Show Less":"Show All"})})]})]})}function B(e){var t,n,o;let{address:i,isApproved:s}=e,[u,p]=(0,d.useState)(!1),m=(0,A.$e)({address:i}),y=(0,c.NL)(),f=(0,d.useMemo)(()=>{var e;return u?m.data:null===(e=m.data)||void 0===e?void 0:e.slice(0,5)},[m.data,u]),h=(0,A._l)(),x=(0,d.useCallback)(async e=>{await h.mutateAsync({accounts:e}),m.refetch()},[h,m]);return s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"justify-between",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Stake Accounts"}),(0,a.jsx)("div",{className:"space-x-2",children:m.isLoading?(0,a.jsx)("span",{className:"loading loading-spinner"}):(0,a.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{await m.refetch(),await y.invalidateQueries({queryKey:["getStakeAccounts"]})},children:(0,a.jsx)(l.Z,{size:16})})})]})}),m.isError&&(0,a.jsxs)("pre",{className:"alert alert-warning",children:["Error: ",null===(t=m.error)||void 0===t?void 0:t.message.toString()]}),m.isSuccess&&(0,a.jsx)("div",{children:0===m.data.length?(0,a.jsx)("div",{children:"No stake accounts found."}):(0,a.jsxs)("table",{className:"table border rounded-none border-separate",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Public Key"}),(0,a.jsx)("th",{children:"Validator"}),(0,a.jsx)("th",{className:"text-right",children:"Stake"}),(0,a.jsx)("th",{className:"text-right"})]})}),(0,a.jsxs)("tbody",{children:[null==f?void 0:f.map(e=>{let{account:t,pubkey:n}=e;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("span",{className:"font-mono",children:(0,a.jsx)(b.Q,{type:"account",value:n})})})}),(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("span",{className:"font-mono",children:(0,a.jsx)(b.Q,{type:"account",value:t.data.parsed.info.stake.delegation.voter})})})}),(0,a.jsx)("td",{className:"text-right",children:(0,a.jsx)("span",{className:"font-mono",children:+t.data.parsed.info.stake.delegation.stake/r.LAMPORTS_PER_SOL})}),(0,a.jsx)("td",{className:"text-right",children:(0,a.jsx)("button",{className:"btn btn-xs btn-outline",disabled:h.isPending,onClick:()=>{x({pubkey:n,account:t})},children:"Recover"})})]},n.toString())}),(null!==(o=null===(n=m.data)||void 0===n?void 0:n.length)&&void 0!==o?o:0)>5&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center",children:(0,a.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>p(!u),children:u?"Show Less":"Show All"})})})]})]})})]}):null}function F(e){let{balance:t}=e;return(0,a.jsx)("span",{children:Math.round(t/r.LAMPORTS_PER_SOL*1e5)/1e5})}let E=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"});function L(e){let{price:t}=e;return E.format(t)}function R(e){let{isBricked:t,canBrick:n}=e;t=t&&n;let o=(0,m.useFeePayerContext)(),i=(0,A.TM)(),[s,r]=(0,d.useState)(!!t);return(0,d.useEffect)(()=>{r(!!t)},[t]),(0,a.jsxs)(k.AppModal,{title:"Recover SOL",buttonClassName:"btn-xs btn-outline",buttonLabel:"Recover",submitDisabled:i.isPending,submitLabel:"Recover",submit:()=>i.mutateAsync({needsUnbrick:!!t,shouldBrick:s}).then(()=>!0),children:[t&&n&&(0,a.jsx)("div",{className:"alert",children:"Wallet is bricked. It'll be unbricked to recover the SOL. We suggest to leave it bricked after."}),(0,a.jsxs)("fieldset",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:s,disabled:!n,onChange:e=>r(e.target.checked),id:"shouldBrick"}),(0,a.jsx)("label",{htmlFor:"shouldBrick",children:"Brick after recovering"})]}),!n&&(0,a.jsx)(K.Z,{}),s&&(0,a.jsxs)("div",{className:"alert alert-warning",children:["You will only be able to unbrick it with your safe wallet"," ",(0,a.jsx)("b",{children:(0,a.jsx)(b.Q,{type:"account",value:o.publicKey})})]})]})}function O(e){let{address:t}=e;return(0,a.jsxs)(k.AppModal,{title:"Receive",children:[(0,a.jsx)("p",{children:"You can receive assets by sending them to your public key:"}),(0,a.jsx)("code",{children:t.toString()})]})}function M(e){let{isApproved:t}=e,n=(0,m.useFeePayerContext)(),o=(0,A.Xj)();return(0,a.jsxs)(k.AppModal,{title:"Brick",buttonClassName:"btn-warning",submitDisabled:!t||o.isPending,submitLabel:"Brick",submit:()=>o.mutateAsync().then(()=>!0),children:[(0,a.jsx)("div",{className:"alert alert-warning",children:"Be careful! This will make your wallet unusable, only use if your seed or private wallet was leaked and you don't want others might able to use it on certain websites."}),(0,a.jsxs)("div",{children:["You will only be able to unbrick it with your safe wallet"," ",(0,a.jsx)("b",{children:(0,a.jsx)(b.Q,{type:"account",value:n.publicKey})})]}),!t&&(0,a.jsx)(K.Z,{})]})}function D(){let e=(0,A.Fy)();return(0,a.jsx)(k.AppModal,{title:"Unbrick",buttonClassName:"btn-warning",submitDisabled:e.isPending,submitLabel:"Unbrick",submit:()=>e.mutateAsync().then(()=>!0),children:(0,a.jsx)("div",{className:"alert alert-warning",children:"This will make your wallet usable again. If your seed or private wallet was leaked, others would be able to use it on certain websites."})})}function z(){let e=(0,A.rf)();return(0,a.jsx)(k.AppModal,{title:"Transfer Brick",buttonClassName:"btn-neutral",submitDisabled:e.isPending,submitLabel:"Transfer Brick",submit:()=>e.mutateAsync().then(()=>!0),children:(0,a.jsx)("div",{className:"alert alert-warning",children:"Transfer the brick of your compromised wallet to us for assistance."})})}function Z(e){let{accounts:t}=e,n=(0,A._j)();return(0,a.jsx)(k.AppModal,{title:"Cleanup",buttonClassName:"btn-xs btn-neutral",buttonLabel:"Cleanup",submitDisabled:n.isPending,submitLabel:"Cleanup",submit:()=>n.mutateAsync({accounts:t}).then(()=>!0),children:(0,a.jsxs)("div",{children:["Closing ",(0,a.jsx)("b",{children:t.length})," token accounts for"," ",t.length*(0,A.td)(o.lZ)/r.LAMPORTS_PER_SOL," SOL"]})})}function _(e){let{accounts:t}=e,n=(0,A.oH)();return(0,a.jsx)(k.AppModal,{title:"Burn all",buttonClassName:"btn-xs btn-neutral",buttonLabel:"Burn all",submitDisabled:n.isPending,submitLabel:"Burn all",submit:()=>n.mutateAsync({accounts:t}).then(()=>!0),children:(0,a.jsxs)("div",{children:["Burning all ",(0,a.jsx)("b",{children:t.length})," token accounts with a value under $0.5 for"," ",t.length*(0,A.td)(o.lZ)/r.LAMPORTS_PER_SOL," SOL"]})})}let q={mint:"",isATA:!0,takeOwnership:!1};function I(e){let{goodActor:t,...n}=e,o=(0,A.AS)(),i=(0,d.useCallback)(async(e,t)=>{try{var a;t.setStatus(void 0),await o.mutateAsync({mint:e.mint,isATA:e.isATA,takeOwnership:e.takeOwnership}),null===(a=n.onHide)||void 0===a||a.call(n)}catch(e){t.setStatus(e.message)}},[n.onHide]);return(0,a.jsx)(j,{...n,children:(0,a.jsx)(u.J9,{initialValues:q,onSubmit:i,children:(0,a.jsxs)(u.l0,{className:"flex flex-col gap-2",children:[(0,a.jsx)(v,{name:"mint",label:"Mint"}),(0,a.jsx)(h,{name:"isATA",label:"Create as ATA"}),t&&(0,a.jsx)(h,{name:"takeOwnership",label:"Take ownership"}),(0,a.jsx)(u.Bc,{name:"status"}),(0,a.jsx)(x,{children:"Create"})]})})})}function Q(e){let{goodActor:t}=e;return(0,a.jsx)(w,{Modal:I,props:{goodActor:t},title:"Create token account",children:"Create"})}function H(e){let{forcedWallet:t,title:n,buttonText:o,buttonType:i}=e;return(0,a.jsx)(w,{Modal:U,props:{forcedWallet:t},title:n,buttonType:i,children:o})}function U(e){let{forcedWallet:t,...n}=e;return(0,a.jsx)(j,{...n,children:(0,a.jsxs)("p",{children:["You need to connect ",(0,k.ellipsify)(t)," to perform this action"]})})}},28326:function(e,t,n){n.d(t,{N:function(){return s}});var a=n(17821),o=n(55636),i=n(37521);function s(){let e=(0,i.useCompromisedUIContext)();return e&&(0,a.jsx)(o.t0,{node:e})}},51028:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(17821),o=n(55636),i=n(60753),s=n(77585),r=n(37521),l=n(51967),c=n(53023),u=n(33198),d=n(6299);function p(e){var t,n,p;let{buttonOnly:m}=e,b=(0,l.useFeePayerUIContext)(),y=(0,l.useFeePayerContext)(),f=(0,r.useCompromisedContext)(),h=(0,c.VG)({address:y.publicKey}),x=(0,u.useMemo)(()=>h.data&&h.data.owner.toBase58()!==d.SystemProgram.programId.toBase58(),[h.data]);return(0,a.jsxs)(a.Fragment,{children:[b&&(0,a.jsx)(o.t0,{node:b}),(null===(t=y.publicKey)||void 0===t?void 0:t.toBase58())===(null===(n=f.publicKey)||void 0===n?void 0:n.toBase58())&&x?(0,a.jsxs)("div",{className:"alert alert-warning",children:["You need to connect another wallet address AND app/extension here"," ",(0,a.jsxs)("em",{children:["(not ",null===(p=f.wallet)||void 0===p?void 0:p.adapter.name,")"]})]}):!m&&y.publicKey&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{children:["Have some (> 0.005) SOL in your safe wallet"," ",(0,a.jsx)("b",{children:(0,a.jsx)(s.Q,{type:"account",value:y.publicKey})})]}),(0,a.jsx)(i.r2,{address:y.publicKey,isApproved:!0})]})]})}},21164:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(17821),o=n(18103),i=n(71444),s=n(30436),r=n(52590);function l(){var e;let t=(0,o.O)();return(0,a.jsxs)("div",{className:"mt-2 p-2 border border-yellow-500 rounded-lg bg-yellow-100 flex gap-4 items-center text-left",children:[(0,a.jsx)(i.gJy,{className:"text-4xl"}),(0,a.jsxs)("div",{className:"inline-block",children:[(0,a.jsxs)("p",{children:["This section is ",(0,a.jsx)("b",{children:"restricted"})," for wallets with ownership proof only."]}),(0,a.jsxs)("span",{children:["Please"," ",(0,a.jsx)("a",{href:"https://x.com/sol_recovery/status/1869711656353419355",target:"_blank",rel:"noreferrer",children:"read this pinned post"})," ","and provide us the proof of ownership for the compromised wallet"," ",(0,a.jsx)("b",{children:(0,r.ellipsify)(null===(e=t.publicKey)||void 0===e?void 0:e.toBase58())})," on a DM to our"," "]}),(0,a.jsx)("a",{href:"https://x.com/sol_recovery",className:"inline-block",children:(0,a.jsx)(s.LCd,{})})," ",(0,a.jsx)("span",{children:"to be whitelisted to use this feature."})]})]})}},94676:function(e,t,n){n.d(t,{d:function(){return a}});function a(e,t){let n=[];for(let a=0;a<e.length;a+=t)n.push(e.slice(a,a+t));return n}}}]);